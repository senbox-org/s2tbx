<!--
  ~ Copyright (C) 2016 by CS ROMANIA
  ~
  ~ This program is free software; you can redistribute it and/or modify it
  ~ under the terms of the GNU General Public License as published by the Free
  ~ Software Foundation; either version 3 of the License, or (at your option)
  ~ any later version.
  ~ This program is distributed in the hope that it will be useful, but WITHOUT
  ~ ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
  ~ FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for
  ~ more details.
  ~
  ~ You should have received a copy of the GNU General Public License along
  ~ with this program; if not, see http://www.gnu.org/licenses/
  -->

<html>
<head>
    <title>SNAP Generic Region Merging Processor</title>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <link rel="stylesheet" href="style.css">
</head>

<body>
<table class="header">
    <tr class="header">
        <td class="header">&nbsp;
            Generic Region Merging Processor</td>
        <td class="header" align="right"><a href="nbdocs://org.esa.snap.snap.help/org/esa/snap/snap/help/docs/general/overview/SnapOverview.html"><img src="images/snap_header.jpg" border=0></a></td>
    </tr>
</table>

<p><br/></p>
<p>
    The Generic Region Merging Processor allows the segmentation of images of arbitrary size. It is based on the article <i>A Scalable Tile-Based Framework for Region Merging Segmentation</i> written by Pierre Lassale, Jordi Inglada, Julien Michel, Manuel Grizonnet, and Julien Malik.
</p>
<p>
    The memory required to process the images may be very high and therefore leads to unfeasibility on slow computers.
</p>
<p>
    The region-merging algorithms starts by assigning a different segment to each pixel of the image. The algorithm consists of merging adjacent segments until a
    criterion is fulfilled. At each iteration, merging costs are computed between adjacent segments.
</p>
<p>
    A segment and its best adjacent segment are merged, if their merging cost is smaller than a threshold.
    The merging process stops when there are no more possible fusions of segments. The number of segments may be different for each merging cost criterion.
</p>

<h4>I/O Parameters</h4>
<table border="0">
    <tr>
        <td style="border-width:0;" valign="top">
            <h5>Source Product</h5>

            <p class="i1">
                Specify the source product which will be used to compute the segmentation.
            </p>

            <h5>Target Product</h5>
            <p class="i1">
                <b>Name:</b>
                Used to specify the name of the target product.
            </p>

            <p class="i1">
                <b>Save as:</b>
                Used to specify whether the target product should be saved to the file system. The
                combo box presents a list of file formats.
                The text field allows to specify a target directory. <br>
            </p>

            <p class="i1">
                <b>Open in SNAP:</b>
                Used to specify whether the target product should be opened in the Sentinel Toolbox.
                When the target product is not saved, it is opened in the Sentinel Toolbox automatically.
            </p></td>
        <td style="border-width:0;" valign="top">
            <img src="images/io-parameters.png">
        </td>
    </tr>
</table>

<h4>Processing Parameters</h4>
<table border="0">
    <tr>
        <td style="border-width:0;" valign="top">
            <p class="i1">
                <b>Merging cost criterion:</b>
                Specify the type to compute the cost between adjacent segments. The merging costs are based on a homogeneity criterion and can represent
                not only how two similar segments are but also how homogeneous the resulting larger segment would be.
            </p>

            <p class="i1">
                <b>Region merging criterion:</b>
                Specify for a given segment the way to choose the adjacent segment to be merged with.
            </p>

            <p class="i1">
                <b>Total iterations:</b>
                Specify the total number of iterations. The higher the number of iterations, the lower the number of segmentation objects is. On a segmentation
                step the number of segmentation objects may be reduced by merging the adjacent segments based on the merging cost criterion and
                region merging criterion.
            </p>

            <p class="i1">
                <b>Threshold:</b>
                Specify the threshold which is compared with the merging cost. This threshold avoids undersegmentation. The higher the value of the threshold the least chances
                of undersegmentation.
            </p>

            <p class="i1">
                <b>Spectral weight:</b>
                Specify the spectral weight.
            </p>

            <p class="i1">
                <b>Shape weight:</b>
                Specify the shape weight.
            </p>

            <p class="i1">
                <b>Source bands:</b>
                Specify the source bands for the computation.
            </p>

            <p>
                <b>NOTE:</b> The threshold, spectral weight, shape weight may vary according to the pixel values of the raster. The standard values for spectral weight, shape weight is 0.5
                and for threshold is 100. Sometimes to detect more precisely the segmentation objects the processor needs to execute several times with different parameter values.
            </p>
        </td>
        <td style="border-width:0;" valign="top">
            <img src="images/processing-parameters.png">
        </td>
    </tr>
</table>

<hr>
</body>
</html>
